(function(t){function e(e){for(var n,r,s=e[0],i=e[1],c=e[2],u=0,_=[];u<s.length;u++)r=s[u],a[r]&&_.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);h&&h(e);while(_.length)_.shift()();return l.push.apply(l,c||[]),o()}function o(){for(var t,e=0;e<l.length;e++){for(var o=l[e],n=!0,s=1;s<o.length;s++){var i=o[s];0!==a[i]&&(n=!1)}n&&(l.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},l=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/hk-school-data-vis/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var h=i;l.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"inspire"}},[o("v-container",{attrs:{fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[t._v("\n      HK School Data with Map\n      "),o("v-toolbar",{attrs:{color:"cyan",dark:""}},[o("v-toolbar-side-icon"),o("v-toolbar-title",[t._v("Hong Kong School Finder")]),o("v-spacer"),o("v-btn",{on:{click:function(e){return t.selectLang(1)}}},[t._v("中文")]),o("v-btn",{on:{click:function(e){return t.selectLang(0)}}},[t._v("Eng")])],1),t._l(t.school_selection_data,function(e){return o("MySelection",{attrs:{prop_selection:e},on:{"change-selection":t.changeCriteria}})}),o("MyTable",{attrs:{prop_school_table_headers:t.school_table_header,prop_school_table_data:t.school_table_data}})],2)],1)],1)},l=[],r=o("b6d0"),s=o.n(r),i=o("774e"),c=o.n(i),h=o("bc3a"),u=o.n(h),_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("l-map",{staticStyle:{width:"100%",height:"600px"},attrs:{zoom:t.zoom,center:t.center}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),o("l-marker",{attrs:{"lat-lng":t.marker}},[o("l-popup",{attrs:{content:t.text}})],1)],1)],1)},d=[],p=o("2699"),f=o("a40a"),b=o("4e2b"),m=o("f60f"),v=o("e11e"),g=o.n(v),y={name:"VueLeaflet",components:{LMap:p["a"],LTileLayer:f["a"],LMarker:b["a"],LPopup:m["a"]},data:function(){return{zoom:13,center:g.a.latLng(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:g.a.latLng(47.41322,-1.219482),text:"this is a marker"}}},x=y,S=o("2877"),w=Object(S["a"])(x,_,d,!1,null,null,null),M=w.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-flex",{attrs:{xs2:""}},[o("v-combobox",{attrs:{items:t.prop_selection.items,label:t.prop_selection.label,clearable:"","clear-icon":"clear"},on:{change:t.onChange},model:{value:t.prop_selection.item,callback:function(e){t.$set(t.prop_selection,"item",e)},expression:"prop_selection.item"}})],1)},O=[],j={name:"MySelection",props:["prop_selection"],data:function(){return{}},methods:{onChange:function(){this.$emit("change-selection")}}},T=j,L=Object(S["a"])(T,k,O,!1,null,null,null),P=L.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-flex",{attrs:{xs12:""}},[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.prop_school_table_headers,items:t.prop_school_table_data},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(t.prop_school_table_headers,function(n){return o("td",[t._v(t._s(e.item[n.value]))])})}}])})],1)},E=[],C={name:"MyTable",props:["prop_school_table_headers","prop_school_table_data"],data:function(){return{school_table_headers:[{text:"School Name",value:"D"},{text:"School Type",value:"B"}],filtered_school_data:[{B:"asdfasdfasdf",D:"asdfsdfsadfds"}]}}},F=C,H=Object(S["a"])(F,$,E,!1,null,null,null),I=H.exports,z={el:"#app",data:function(){return{school_header:[],school_data:[],lang_index:0,school_display_column:[["D","P","R","T","V","X","AF"],["E","Q","S","U","W","Y","AG"]],school_selection_columns:[["P","R","T","V","X","AF"],["Q","S","U","W","Y","AG"]],school_selection_data:[],school_table_header:[],school_table_data:[]}},mounted:function(){var t=this;u.a.get("./data3.json").then(function(e){t.school_header=e.data.shift(),t.school_data=e.data,t.school_table_data=t.school_data,t.getTableHeader(),t.getSelectionItems()})},methods:{selectLang:function(t){this.lang_index=t,this.school_table_data=this.school_data,this.getTableHeader(),this.getSelectionItems()},getTableHeader:function(){this.school_table_header=[];for(var t=0;t<this.school_display_column[this.lang_index].length;t++){var e=this.school_display_column[this.lang_index][t],o=this.school_header[e],n={};n["text"]=o,n["value"]=e,this.school_table_header.push(n)}},getSelectionItems:function(){this.school_selection_data=[];for(var t=0;t<this.school_selection_columns[this.lang_index].length;t++){var e=this.school_selection_columns[this.lang_index][t],o=this.school_header[e],n={};n["label"]=o,n["items"]=c()(new s.a(this.school_table_data.map(function(t){return t[e]}))),this.school_selection_data.push(n)}},updateSelectionItems:function(){for(var t=0;t<this.school_selection_columns[this.lang_index].length;t++){var e=this.school_selection_columns[this.lang_index][t];this.school_selection_data[t]["items"]=c()(new s.a(this.school_table_data.map(function(t){return t[e]})))}},filterFunc:function(t){for(var e=0;e<this.school_selection_columns[this.lang_index].length;e++){var o=this.school_selection_columns[this.lang_index][e],n=this.school_selection_data[e].item;if(void 0!=n&&t[o]!=n)return!1}return!0},changeCriteria:function(){this.school_table_data=this.school_data.filter(this.filterFunc),this.updateSelectionItems()}},components:{MyMap:M,MySelection:P,MyTable:I}},A=z,D=Object(S["a"])(A,a,l,!1,null,null,null),V=D.exports,B=o("ce5b"),G=o.n(B);o("bf40"),o("6cc5");n["default"].config.productionTip=!1,n["default"].use(G.a),new n["default"]({render:function(t){return t(V)}}).$mount("#app")}});
//# sourceMappingURL=app.378181ba.js.map